<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pixguard - Premium Shortener</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700;900&display=swap" rel="stylesheet">
</head>
<body>
  <div class="wrapper">
    <header class="hero-header">
      <h1>Pixguard</h1>
      <p class="tagline">Short Links • Maximum Earnings</p>
    </header>

    <main class="main-card glass">
      <h2>Create Short Link</h2>
      <div class="input-group">
        <input type="url" id="contentUrl" placeholder="Content / Download Link" required>
        <input type="url" id="adUrl" placeholder="Ad Link (Required)" required>
        <input type="file" id="imageUpload" accept="image/*">
      </div>
      <button onclick="createLink()" class="btn-primary glow">Generate Link</button>
    </main>

    <div id="result" class="result-card glass hidden">
      <h3>Your Short Link is Ready!</h3>
      <div class="link-display">
        <input type="text" id="shortLink" readonly>
        <button onclick="copyLink()" class="btn-copy neon">Copy</button>
      </div>
    </div>
  </div>

  <footer class="footer">© Pixguard • Dev- SAKIB HOSSAIN</footer>

  <script>
    function createLink() {
      const c = document.getElementById('contentUrl').value.trim();
      const a = document.getElementById('adUrl').value.trim();
      const f = document.getElementById('imageUpload').files[0];

      if (!c || !a) return alert("Both links required!");

      let i = "";
      if (f) {
        const r = new FileReader();
        r.onload = () => { i = r.result; gen(); };
        r.readAsDataURL(f);
      } else gen();

      function gen() {
        const chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
        let code = "";
        for (let x = 0; x < 7; x++) code += chars.charAt(Math.floor(Math.random() * chars.length));

        const data = btoa(JSON.stringify({c, a, i}));
        localStorage.setItem("link_" + code, data);

        const short = location.origin + "/" + code;
        document.getElementById('shortLink').value = short;
        document.getElementById('result').classList.remove('hidden');
      }
    }

    function copyLink() {
      const el = document.getElementById('shortLink');
      el.select(); document.execCommand('copy');
      alert('Copied!');
    }
  </script>
</body>
</html>

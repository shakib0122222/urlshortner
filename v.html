<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pixguard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="wrapper" id="app">
    <div class="loader">Loading Premium Content...</div>
  </div>

  <script>
    const code = location.pathname.substring(1);
    const raw = localStorage.getItem("link_" + code);

    if (!raw) {
      document.body.innerHTML = `<div class="wrapper error-page"><h2>Link Not Found!</h2></div>`;
    } else {
      const {c, a, i} = JSON.parse(atob(raw));

      document.getElementById('app').innerHTML = `
        <div class="viewer glass">
          ${i ? `<img src="${i}" class="preview">` : ''}
          <div class="options">
            <div class="option glass"><h3>Option 1</h3>
              <div class="btn-group">
                <button class="btn-neon cyan" onclick="ad()">Watch Now</button>
                <button class="btn-neon purple" onclick="ad()">Download</button>
              </div>
            </div>
            <div class="option glass"><h3>Option 2</h3>
              <div class="btn-group">
                <button class="btn-neon pink" onclick="ad()">Continue</button>
                <button class="btn-neon orange" onclick="ad()">Get Link</button>
              </div>
            </div>
          </div>
          <div class="ad-banner glass">Your Adsterra Banner</div>
          <div class="note-box">Watch Ad → Back → Click Continue</div>
          <button onclick="next()" class="btn-continue pulse">Continue to Download</button>
        </div>
      `;

      let clicked = false;
      window.ad = () => window.open(a, "_blank");
      window.next = () => {
        if (!clicked) { ad(); clicked = true; }
        else { location.href = "r.html#" + code; }
      };
    }
  </script>
</body>
</html>
